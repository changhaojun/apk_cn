(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{uIKA:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=e("ZZ/e"),u=(e("rxhA"),function(){return(u=Object.assign||function(n){for(var l,e=1,t=arguments.length;e<t;e++)for(var o in l=arguments[e])Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=l[o]);return n}).apply(this,arguments)}),r=function(n,l,e,t){return new(e||(e=Promise))(function(o,u){function r(n){try{a(t.next(n))}catch(l){u(l)}}function i(n){try{a(t.throw(n))}catch(l){u(l)}}function a(n){n.done?o(n.value):new e(function(l){l(n.value)}).then(r,i)}a((t=t.apply(n,l||[])).next())})},i=function(n,l){var e,t,o,u,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,t&&(o=2&u[0]?t.return:u[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,u[1])).done)return o;switch(t=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,t=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){r=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(6===u[0]&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=l.call(n,r)}catch(i){u=[6,i],t=0}finally{e=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},a=function(){function n(n,l,e){this.alertController=n,this.data=l,this.localDb=e,this.ranges={good:.5,mediocre:2,needsImprovement:2,eventNotificationLimit:"needs improvement",weeklyLimit:15,monthlyLimit:15}}return n.prototype.ngOnInit=function(){},n.prototype.getCurrencySymbol=function(){return"eur"===this.data.user.units.currency?"\u20ac":"$"},n.prototype.presentRangePricePrompt=function(n){return r(this,void 0,void 0,function(){var l,e,t=this;return i(this,function(o){switch(o.label){case 0:return console.log(n),"good"===n&&(l=" 当总费用低于" +this.getCurrencySymbol()+this.data.user.ranges.good + "时显示<b>良好</b>通知 ",e=this.data.user.ranges.good),"mediocre"===n&&(l=" 当总费用低于" +this.getCurrencySymbol()+this.data.user.ranges.mediocre + "时显示<b>一般</b>通知 ",e=this.data.user.ranges.mediocre),"needsImprovement"===n&&(l=" 当总费用大于" +this.getCurrencySymbol()+this.data.user.ranges.needsImprovement + "时显示<b>需要改进</b>通知 ",e=this.data.user.ranges.needsImprovement),[4,this.alertController.create({header:"成本范围",message:l,inputs:[{name:"price",type:"number",value:e||""}],buttons:[{text:"取消",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"确认",handler:function(l){console.log("Confirm Ok"),console.log(l.price),"good"===n&&(t.data.user.ranges.good=l.price,t.localDb.updateUser(u({},t.data.user))),"mediocre"===n&&(t.data.user.ranges.mediocre=l.price,t.localDb.updateUser(u({},t.data.user))),"needsImprovement"===n&&(t.data.user.ranges.needsImprovement=l.price,t.localDb.updateUser(u({},t.data.user)))}}]})];case 1:return[4,o.sent().present()];case 2:return o.sent(),[2]}})})},n.prototype.presentNotificationEventLimitRadio=function(){return r(this,void 0,void 0,function(){var n=this;return i(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"显示事件超过时的通知",
inputs:[{name:"no",type:"radio",label:"无通知",value:"no",checked:"无通知"===this.data.user.ranges.eventNotificationLimit},{name:"mediocre",type:"radio",label:"一般",value:"mediocre",checked:"一般"===this.data.user.ranges.eventNotificationLimit},{name:"needs",type:"radio",label:"需要改进",value:"needs",checked:"需要改进"===this.data.user.ranges.eventNotificationLimit}],
buttons:[{text:"取消",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"确认",handler:function(l){console.log("data",l),"no"===l&&(n.data.user.ranges.eventNotificationLimit="无通知",n.localDb.updateUser(u({},n.data.user))),"mediocre"===l&&(n.data.user.ranges.eventNotificationLimit="一般",n.localDb.updateUser(u({},n.data.user))),"needs"===l&&(n.data.user.ranges.eventNotificationLimit="需要改进",n.localDb.updateUser(u({},n.data.user)))}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n.prototype.presentWeeklyPricePrompt=function(){return r(this,void 0,void 0,function(){var n=this;return i(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"每周通知限额",message:"显示周总费用超过时的通知 "+this.getCurrencySymbol()+this.data.user.ranges.weeklyLimit,inputs:[{name:"limit",type:"number",value:this.data.user.ranges.weeklyLimit?this.data.user.ranges.weeklyLimit:""}],buttons:[{text:"取消",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"确认",handler:function(l){console.log("Confirm Ok"),n.data.user.ranges.weeklyLimit=l.limit,n.localDb.updateUser(u({},n.data.user))}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n.prototype.presentMonthlyPricePrompt=function(){return r(this,void 0,void 0,function(){var n=this;return i(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"每月通知限额",message:"显示月总费用超过时的通知 "+this.getCurrencySymbol()+this.data.user.ranges.monthlyLimit,inputs:[{name:"limit",type:"number",value:this.data.user.ranges.monthlyLimit?this.data.user.ranges.monthlyLimit:""}],buttons:[{text:"取消",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"确认",handler:function(l){console.log("Confirm Ok"),n.data.user.ranges.monthlyLimit=l.limit,n.localDb.updateUser(u({},n.data.user))}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n}(),s=function(){return function(){}}(),c=e("pMnS"),b=e("oBZk"),d=e("Ip0R"),p=e("POIX"),m=e("cJ9r"),h=t.nb({encapsulation:0,styles:[[""]],data:{}});function f(n){return t.Eb(0,[(n()(),t.pb(0,0,null,null,73,"ion-list",[],null,null,null,b.W,b.s)),t.ob(1,49152,null,0,o.P,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,9,"ion-item",[["button",""],["detail","false"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.presentRangePricePrompt("good")&&t),t},b.U,b.q)),t.ob(3,49152,null,0,o.I,[t.h,t.k],{button:[0,"button"],detail:[1,"detail"]},null),(n()(),t.pb(4,0,null,0,1,"ion-icon",[["color","good"],["slot","start"],["src","assets/icon/grin-regular.svg"]],null,null,null,b.T,b.p)),t.ob(5,49152,null,0,o.D,[t.h,t.k],{color:[0,"color"],src:[1,"src"]},null),(n()(),t.pb(6,0,null,0,2,"ion-label",[["text-wrap",""]],null,null,null,b.V,b.r)),t.ob(7,49152,null,0,o.O,[t.h,t.k],null,null),(n()(),t.Db(-1,0,[" 良好 "])),(n()(),t.pb(9,0,null,0,2,"ion-note",[["slot","end"]],null,null,null,b.X,b.t)),t.ob(10,49152,null,0,o.Y,[t.h,t.k],null,null),(n()(),t.Db(11,0,["少于 ","",""])),(n()(),t.pb(12,0,null,0,9,"ion-item",[["button",""],["detail","false"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.presentRangePricePrompt("mediocre")&&t),t},b.U,b.q)),t.ob(13,49152,null,0,o.I,[t.h,t.k],{button:[0,"button"],detail:[1,"detail"]},null),(n()(),t.pb(14,0,null,0,1,"ion-icon",[["color","mediocre"],["slot","start"],["src","assets/icon/meh-regular.svg"]],null,null,null,b.T,b.p)),t.ob(15,49152,null,0,o.D,[t.h,t.k],{color:[0,"color"],src:[1,"src"]},null),(n()(),t.pb(16,0,null,0,2,"ion-label",[["text-wrap",""]],null,null,null,b.V,b.r)),t.ob(17,49152,null,0,o.O,[t.h,t.k],null,null),(n()(),t.Db(-1,0,[" 一般 "])),(n()(),t.pb(19,0,null,0,2,"ion-note",[["slot","end"],["text-nowrap",""]],null,null,null,b.X,b.t)),t.ob(20,49152,null,0,o.Y,[t.h,t.k],null,null),(n()(),t.Db(21,0,["少于 ","",""])),(n()(),t.pb(22,0,null,0,9,"ion-item",[["button",""],["detail","false"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.presentRangePricePrompt("needsImprovement")&&t),t},b.U,b.q)),t.ob(23,49152,null,0,o.I,[t.h,t.k],{button:[0,"button"],detail:[1,"detail"]},null),(n()(),t.pb(24,0,null,0,1,"ion-icon",[["color","bad"],["slot","start"],["src","assets/icon/meh-regular.svg"]],null,null,null,b.T,b.p)),t.ob(25,49152,null,0,o.D,[t.h,t.k],{color:[0,"color"],src:[1,"src"]},null),(n()(),t.pb(26,0,null,0,2,"ion-label",[["text-wrap",""]],null,null,null,b.V,b.r)),t.ob(27,49152,null,0,o.O,[t.h,t.k],null,null),(n()(),t.Db(-1,0,[" 需要改进 "])),(n()(),t.pb(29,0,null,0,2,"ion-note",[["slot","end"]],null,null,null,b.X,b.t)),t.ob(30,49152,null,0,o.Y,[t.h,t.k],null,null),(n()(),t.Db(31,0,["大于 ","",""])),(n()(),t.pb(32,0,null,0,13,"ion-item",[["button",""],["detail","false"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.presentNotificationEventLimitRadio()&&t),t},b.U,b.q)),t.ob(33,49152,null,0,o.I,[t.h,t.k],{button:[0,"button"],detail:[1,"detail"]},null),(n()(),t.pb(34,0,null,0,1,"ion-icon",[["name","notifications"],["slot","start"]],null,null,null,b.T,b.p)),t.ob(35,49152,null,0,o.D,[t.h,t.k],{name:[0,"name"]},null),(n()(),t.pb(36,0,null,0,9,"ion-label",[["text-wrap",""]],null,null,null,b.V,b.r)),t.ob(37,49152,null,0,o.O,[t.h,t.k],null,null),(n()(),t.pb(38,0,null,0,3,"ion-text",[],null,null,null,b.eb,b.A)),t.ob(39,49152,null,0,o.xb,[t.h,t.k],null,null),(n()(),t.pb(40,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t.Db(-1,null,["显示事件超过时的通知"])),(n()(),t.pb(42,0,null,0,3,"ion-text",[["color","medium"],["text-capitalize",""]],null,null,null,b.eb,b.A)),t.ob(43,49152,null,0,o.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(44,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Db(45,null,["",""])),(n()(),t.pb(46,0,null,0,13,"ion-item",[["button",""],["detail","false"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.presentWeeklyPricePrompt()&&t),t},b.U,b.q)),t.ob(47,49152,null,0,o.I,[t.h,t.k],{button:[0,"button"],detail:[1,"detail"]},null),(n()(),t.pb(48,0,null,0,1,"ion-icon",[["name","notifications"],["slot","start"]],null,null,null,b.T,b.p)),t.ob(49,49152,null,0,o.D,[t.h,t.k],{name:[0,"name"]},null),(n()(),t.pb(50,0,null,0,9,"ion-label",[["text-wrap",""]],null,null,null,b.V,b.r)),t.ob(51,49152,null,0,o.O,[t.h,t.k],null,null),(n()(),t.pb(52,0,null,0,3,"ion-text",[],null,null,null,b.eb,b.A)),t.ob(53,49152,null,0,o.xb,[t.h,t.k],null,null),(n()(),t.pb(54,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t.Db(-1,null,["每周通知限额"])),(n()(),t.pb(56,0,null,0,3,"ion-text",[["color","medium"]],null,null,null,b.eb,b.A)),t.ob(57,49152,null,0,o.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(58,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Db(59,null,["","",""])),(n()(),t.pb(60,0,null,0,13,"ion-item",[["button",""],["detail","false"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.presentMonthlyPricePrompt()&&t),t},b.U,b.q)),t.ob(61,49152,null,0,o.I,[t.h,t.k],{button:[0,"button"],detail:[1,"detail"]},null),(n()(),t.pb(62,0,null,0,1,"ion-icon",[["name","notifications"],["slot","start"]],null,null,null,b.T,b.p)),t.ob(63,49152,null,0,o.D,[t.h,t.k],{name:[0,"name"]},null),(n()(),t.pb(64,0,null,0,9,"ion-label",[["text-wrap",""]],null,null,null,b.V,b.r)),t.ob(65,49152,null,0,o.O,[t.h,t.k],null,null),(n()(),t.pb(66,0,null,0,3,"ion-text",[],null,null,null,b.eb,b.A)),t.ob(67,49152,null,0,o.xb,[t.h,t.k],null,null),(n()(),t.pb(68,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t.Db(-1,null,["每月通知限额"])),(n()(),t.pb(70,0,null,0,3,"ion-text",[["color","medium"]],null,null,null,b.eb,b.A)),t.ob(71,49152,null,0,o.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(72,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Db(73,null,["","",""]))],function(n,l){n(l,3,0,"","false"),n(l,5,0,"good","assets/icon/grin-regular.svg"),n(l,13,0,"","false"),n(l,15,0,"mediocre","assets/icon/meh-regular.svg"),n(l,23,0,"","false"),n(l,25,0,"bad","assets/icon/meh-regular.svg"),n(l,33,0,"","false"),n(l,35,0,"notifications"),n(l,43,0,"medium"),n(l,47,0,"","false"),n(l,49,0,"notifications"),n(l,57,0,"medium"),n(l,61,0,"","false"),n(l,63,0,"notifications"),n(l,71,0,"medium")},function(n,l){var e=l.component;n(l,11,0,e.getCurrencySymbol(),e.data.user.ranges.good),n(l,21,0,e.getCurrencySymbol(),e.data.user.ranges.mediocre),n(l,31,0,e.getCurrencySymbol(),e.data.user.ranges.needsImprovement),n(l,45,0,e.data.user.ranges.eventNotificationLimit),n(l,59,0,e.getCurrencySymbol(),e.data.user.ranges.weeklyLimit),n(l,73,0,e.getCurrencySymbol(),e.data.user.ranges.monthlyLimit), console.log(e.data.user.ranges.eventNotificationLimit)})}function g(n){return t.Eb(0,[(n()(),t.pb(0,0,null,null,11,"ion-header",[],null,null,null,b.S,b.o)),t.ob(1,49152,null,0,o.C,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,9,"ion-toolbar",[["color","primary"]],null,null,null,b.hb,b.D)),t.ob(3,49152,null,0,o.Cb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,b.H,b.d)),t.ob(5,49152,null,0,o.m,[t.h,t.k],null,null),(n()(),t.pb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t.yb(n,8).onClick(e)&&o),o},b.F,b.b)),t.ob(7,49152,null,0,o.h,[t.h,t.k],null,null),t.ob(8,16384,null,0,o.i,[[2,o.ib],o.Ib],null,null),(n()(),t.pb(9,0,null,0,2,"ion-title",[],null,null,null,b.fb,b.B)),t.ob(10,49152,null,0,o.Ab,[t.h,t.k],null,null),(n()(),t.Db(-1,0,["成本范围"])),(n()(),t.pb(12,0,null,null,3,"ion-content",[["padding",""]],null,null,null,b.O,b.k)),t.ob(13,49152,null,0,o.v,[t.h,t.k],null,null),(n()(),t.gb(16777216,null,0,1,null,f)),t.ob(15,16384,null,0,d.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0,"primary"),n(l,15,0,e.data&&e.data.user&&e.data.user.ranges)},null)}function k(n){return t.Eb(0,[(n()(),t.pb(0,0,null,null,1,"app-consumption-ranges",[],null,null,null,g,h)),t.ob(1,114688,null,0,a,[o.a,p.a,m.a],null,null)],function(n,l){n(l,1,0)},null)}var y=t.lb("app-consumption-ranges",a,k,{},{},[]),v=e("gIcY"),w=e("ZYCi");e.d(l,"ConsumptionRangesPageModuleNgFactory",function(){return C});var C=t.mb(s,[],function(n){return t.vb([t.wb(512,t.j,t.bb,[[8,[c.a,y]],[3,t.j],t.x]),t.wb(4608,d.l,d.k,[t.u,[2,d.r]]),t.wb(4608,v.n,v.n,[]),t.wb(4608,o.b,o.b,[t.z,t.g]),t.wb(4608,o.Hb,o.Hb,[o.b,t.j,t.q,d.c]),t.wb(4608,o.Lb,o.Lb,[o.b,t.j,t.q,d.c]),t.wb(1073742336,d.b,d.b,[]),t.wb(1073742336,v.m,v.m,[]),t.wb(1073742336,v.e,v.e,[]),t.wb(1073742336,o.Eb,o.Eb,[]),t.wb(1073742336,w.n,w.n,[[2,w.t],[2,w.m]]),t.wb(1073742336,s,s,[]),t.wb(1024,w.k,function(){return[[{path:"",component:a}]]},[])])})}}]);